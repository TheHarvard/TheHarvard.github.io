<!DOCTYPE html>
<html>
    <head>
        <link class="init" href="../css/style.css" rel="stylesheet" type="text/css" />
        <script src="../js/populateHTML.js"></script>
        <title>qrShare.exe</title>
        <size>1</size>
        <actions>[
            {"name":"Run","script":"updateUrlAndReload({ fromDH: '',qrshare: '/p/qrshare.html' })"}
            ]</actions>
    </head>

      <type-speed-vfast></type-speed-vfast>
    

    <body>

<pre>Generating QR code.........</pre>

      <type-speed-vfast></type-speed-vfast>
              
      <canvas id="qrcode" style="width: 80vw;height: 80vw;margin: 3vw;"></canvas>

    </body>
            
    <script>
      document.addEventListener('typer_done', function(event) {
          let qrValue = window.location.href; // default

      // Check if ?qrvalue=... exists in the query string
      const params = new URLSearchParams(window.location.search);
      if (params.has('qrvalue')) {
          qrValue = params.get('qrvalue');
      }

          console.log("QR Value:", qrValue);

          new QRious({
              element: document.getElementById('qrcode'),
              value: qrValue,
              size: 200,
              foreground: '#ffb000',
              background: 'transparent'
          });
      });
    </script>

</html>